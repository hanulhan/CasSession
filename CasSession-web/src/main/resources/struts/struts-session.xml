<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <constant  name="struts.custom.i18n.resources" value="i18n/session,i18n/datatable" />

    <package name="session" namespace="/session" extends="default">

        
        <action name="accessActiveSessions" class="sessionActionClass" method="doAccessActiveSessions">
            <param name="roles">ROLE_SYSTEM_USER_ONLINE</param>
            <result name="success">/session/sessions.jsp</result>
        </action>
        
        <action name="getSessions" class="sessionActionClass" method="doGetSession">
            <param name="roles">ROLE_SYSTEM_USER_ONLINE</param>
            <result name="success" type="json">
                <param name="ignoreHierarchy">false</param>
                <param name="includeProperties">jsonStatus.*,sessions.*</param>
            </result>
        </action>



        <action name="doShowWelcome" class="sessionActionClass" method="doShowWelcome">
            <result name="success">/session/welcome.jsp</result>
        </action>


        <!-- selected USER -->
        <action name="getLoggedInUserInformation" class="sessionActionClass" method="doGetLoggedInUserInformation">
            <result name="success" type="json">
                <param name="ignoreHierarchy">false</param>
                <param name="includeProperties">jsonStatus.*,loggedInUser.*</param>
            </result>
        </action>

        <!-- HOTEL AUSWAHL -->
        <action name="doShowHotelSelection" class="sessionActionClass" method="doShowHotelSelection">
            <result name="success">/session/hotellist.jsp</result>
            <result name="error">/</result>
        </action>

        <action name="doGetHotelList" class="sessionActionClass" method="doGetHotelList">
            <result name="success" type="json">
                <param name="ignoreHierarchy">false</param>
                <param name="includeProperties">jsonStatus.*,hotels.*</param>
            </result>
        </action>

        <action name="doSetHotel" class="sessionActionClass" method="doSetHotel">
            <result name="success" type="redirectAction">
                <param name="actionName">doShowWelcome</param>
                <param name="namespace">/session</param>
            </result>
            <result name="error" type="redirectAction">
                <param name="actionName">doShowHotelSelection</param>
                <param name="namespace">/session</param>
            </result>
        </action>

        <action name="getMenuUL" class="sessionActionClass" method="doGetMenuUL">
            <result type="stream">
                <param name="contentType">text/html</param>
                <param name="inputName">inputStream</param>
            </result>
        </action>

        <action name="accessFilter" class="sessionActionClass" method="doAccessFilter">
            <param name="roles">ROLE_SYSTEM_USER_ONLINE</param>
            <result name="success">/session/hotelfilter.jsp</result>
        </action>
        <action name="getSelectedIdents" class="sessionActionClass" method="doGetSelectedIdents">
            <param name="roles">ROLE_SYSTEM_USER_ONLINE</param>
            <result name="success" type="json">
                <param name="ignoreHierarchy">false</param>
                <param name="includeProperties">jsonStatus.*,idents.*</param>
            </result>
        </action>
        <action name="setSelectedIdents" class="sessionActionClass" method="doSetSelectedIdents">
            <param name="roles">ROLE_SYSTEM_USER_ONLINE</param>
            <result name="success" type="json">
                <param name="ignoreHierarchy">false</param>
                <param name="includeProperties">jsonStatus.*,idents.*</param>
            </result>
        </action>

    </package>
</struts>
